webpackJsonp([1],{"1/oy":function(e,t){},"6YpW":function(e,t){},"9M+g":function(e,t){},GfHa:function(e,t){},Id91:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("7+uW"),r=s("NYxO"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o,i=s("VU/8")({name:"App"},a,!1,function(e){s("6YpW")},null,null).exports,l=s("/ocq"),c={name:"login",data:function(){return{response_type:"token",client_id:"6192c9c2-a135-11e8-ba29-4f04e5ae533e",state:"kukuzapa access manager",redirect_uri:window.location.href}},created:function(){var e=this;this.$route.query.access_token&&this.axios.get("https://id.gtn.ee/rc/api/v1.0/userinfo",{headers:{Authorization:"Bearer "+this.$route.query.access_token}}).then(function(t){console.log(t),e.$store.commit("login",{token:e.$route.query.access_token,id:t.data.sub,user:t.data.name,email:t.data.email}),e.$router.push("/access")})},methods:{login:function(){window.location.href="https://id.gtn.ee/oauth/authorize?response_type="+this.response_type+"&client_id="+this.client_id+"&state=kukuzapa+forever&redirect_uri="+this.redirect_uri}}},u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("button",{staticClass:"btn btn-primary btn-block col-12",attrs:{type:"button"},on:{click:this.login}},[this._v('Вход в сервис "Менеджер отпусков"')])])])},staticRenderFns:[]},d=s("VU/8")(c,u,!1,null,null,null).exports,_=s("bOdI"),h=s.n(_),m={name:"am",data:function(){return{user_id:this.$store.state.current.id,user_token:this.$store.state.current.token,user_info:{},user_name:this.$store.state.current.user,check_role:!1,check_user:!1,active:{node:!0,role:!1,user:!1,info:!1}}},mounted:function(){this.get_user()},watch:{},methods:(o={logout:function(){this.$router.push("/")},blck_show:function(e){this.$router.push("/access/"+e)}},h()(o,"logout",function(){this.$router.push("/")}),h()(o,"get_user",function(e){var t=this;this.axios.get("/am/user/get",{params:{user:this.user_id,name:this.user_name,email:this.$store.state.current.email},headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(e){t.user_info=e.data,t.user_info.manager&&(t.check_role=!0),t.user_info.roles&&-1!=t.user_info.roles.indexOf("admins")&&(t.check_user=!0,t.check_role=!0)})}),o)},f={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container",attrs:{id:"main"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 text-center"},[e._v("\n\t\t\t\tAccess Manager\n\t\t\t")]),e._v(" "),s("div",{staticClass:"col-3"},[e._v("\n\t\t\t\t"+e._s(e.user_name)+"\n\t\t\t")]),e._v(" "),s("div",{staticClass:"col-6"}),e._v(" "),s("div",{staticClass:"col-3"},[s("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:e.logout}},[e._v("LOGOUT")])]),e._v(" "),s("div",{staticClass:"col-3 mb-2 mt-2"},[s("button",{staticClass:"btn btn-primary btn-block",class:{"btn-success":e.active.node},attrs:{type:"button"},on:{click:function(t){e.blck_show("node")}}},[e._v("Дерево")])]),e._v(" "),s("div",{staticClass:"col-3 mb-2 mt-2"},[e.check_role?s("button",{staticClass:"btn btn-primary btn-block",class:{"btn-success":e.active.role},attrs:{type:"button"},on:{click:function(t){e.blck_show("role")}}},[e._v("Роли")]):e._e()]),e._v(" "),s("div",{staticClass:"col-3 mb-2 mt-2"},[e.check_user?s("button",{staticClass:"btn btn-primary btn-block",class:{"btn-success":e.active.user},attrs:{type:"button"},on:{click:function(t){e.blck_show("user")}}},[e._v("Пользователи")]):e._e()]),e._v(" "),s("div",{staticClass:"col-3 mb-2 mt-2"},[s("button",{staticClass:"btn btn-primary btn-block",class:{"btn-success":e.active.info},attrs:{type:"button"},on:{click:function(t){e.blck_show("info")}}},[e._v("Информация")])])]),e._v(" "),s("router-view",{attrs:{user_info:e.user_info,user_id:e.user_id,user_token:e.user_token}})],1)},staticRenderFns:[]},v=s("VU/8")(m,f,!1,null,null,null).exports,p={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[this._v("\n        "+this._s(this.user_info)+"\n    ")])])},staticRenderFns:[]},g=s("VU/8")({name:"info",props:["user_info"]},p,!1,null,null,null).exports,b={name:"node",data:function(){return{current_node_name:null,node_info:null,tree:null,node:null,query:"",nodes:[],select:{},operations:{},treeData:this.getData(),treeOpt:{parentSelect:!0}}},props:["user_id","user_token"],watch:{current_node_name:function(){this.$router.push("/access/node/info")}},methods:{getData:function(){return this.axios.get("/am/node/tree",{params:{id:this.user_id},headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(e){return e.data})},action:function(e){console.log("/access/node/"+e),"insert"!=e&&"replace"!=e&&"delete"!=e&&"info"!=e&&"access"!=e&&"text"!=e&&"file"!=e||(console.log(this.$refs.treeAcc),this.tree=this.$refs.treeAcc,this.$router.push("/access/node/"+e))},onNodeSelected:function(e){var t=this;console.log(e),console.log(e.data.grants),this.current_node_name=e.text,this.operations={},this.axios.get("/am/node/get",{params:{id:this.user_id,node:e.text},headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(s){if(!s.data.err){t.node_info=s.data,console.log(t.node_info);for(var n=0;n<e.data.grants.length;n++)t.operations[e.data.grants[n]]=!0}})}}},k={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-4 text-left"},[s("tree",{ref:"treeAcc",attrs:{options:e.treeOpt,data:e.treeData},on:{"node:selected":e.onNodeSelected}}),e._v(" "),s("div",{attrs:{id:"tree"}})],1),e._v(" "),s("div",{staticClass:"col-8"},[e.current_node_name?s("div",{staticClass:"d-flex justify-content-between"},[s("b-dropdown",{staticClass:"md-2",attrs:{id:"ddown1",text:"Операции",disabled:!(e.operations.insert||e.operations.replace||e.operations.access||e.operations.delete)}},[s("b-dropdown-item",{attrs:{disabled:!e.operations.insert},on:{click:function(t){e.action("insert")}}},[e._v("Добавить дочерний узел")]),e._v(" "),s("b-dropdown-item",{attrs:{disabled:!e.operations.replace},on:{click:function(t){e.action("replace")}}},[e._v("Изменить родительский узел")]),e._v(" "),s("b-dropdown-item",{attrs:{disabled:!e.operations.access},on:{click:function(t){e.action("access")}}},[e._v("Назначить права на узел")]),e._v(" "),s("b-dropdown-item",{attrs:{disabled:!e.operations.delete},on:{click:function(t){e.action("delete")}}},[e._v("Удалить узел")])],1),e._v(" "),s("div",{staticClass:"d-flex align-items-center mt-2"},[s("h4",[e._v(e._s(e.current_node_name))])]),e._v(" "),s("b-dropdown",{staticClass:"md-2",attrs:{id:"ddown1",text:"Информация",disabled:!e.operations.read}},[s("b-dropdown-item",{attrs:{disabled:!e.operations.read},on:{click:function(t){e.action("info")}}},[e._v("Общая информация")]),e._v(" "),s("b-dropdown-item",{attrs:{disabled:!e.operations.read},on:{click:function(t){e.action("file")}}},[e._v("Файлы")]),e._v(" "),s("b-dropdown-item",{attrs:{disabled:!e.operations.read},on:{click:function(t){e.action("text")}}},[e._v("Текст")])],1)],1):e._e(),e._v(" "),s("router-view",{attrs:{tree:e.tree,user_id:e.user_id,node_info:e.node_info,user_token:e.user_token,current_node_name:e.current_node_name,operations:e.operations}})],1)])},staticRenderFns:[]},x=s("VU/8")(b,k,!1,null,null,null).exports,C={name:"n_insert",props:["user_id","current_node_name","user_token","tree"],data:function(){return{child:null,message:{}}},watch:{current_node_name:function(){this.child=null,this.message={}}},methods:{insert:function(){var e=this;if(this.message={},this.child){var t=this.tree.find(this.current_node_name)[0];this.axios.post("/am/node/add",{id:this.user_id,prnt:this.current_node_name,chld:this.child.toString()},{headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(s){e.message={},s.data.success?(e.message.success=s.data.success,t.append({text:e.child.toString(),id:s.data.id,data:{grants:["pass","read","delete","insert","replace","access","update"]}})):e.message.err=s.data.err})}else this.message.err="Неправда ваша, дяденька. Нет имени - нет конфет."}}},w={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("form",[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"formGroupExampleInput"}},[e._v("Введите имя нового узла")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.child,expression:"child"}],staticClass:"form-control",attrs:{type:"text",id:"formGroupExampleInput"},domProps:{value:e.child},on:{input:function(t){t.target.composing||(e.child=t.target.value)}}})]),e._v(" "),s("button",{staticClass:"btn btn-default btn-block",attrs:{type:"button"},on:{click:e.insert}},[e._v("Добавить новый узел")]),e._v(" "),e.message.err?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"danger"}},[e._v(e._s(e.message.err))]):e._e(),e._v(" "),e.message.success?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"success"}},[e._v(e._s(e.message.success))]):e._e()],1)])])},staticRenderFns:[]},$=s("VU/8")(C,w,!1,null,null,null).exports,y={name:"n_replace",props:["user_id","tree","current_node_name","user_token"],data:function(){return{new_prnt:null,message:{},prnt_list:[]}},watch:{current_node_name:function(){this.new_prnt=null,this.message={}}},created:function(){this.get_new_parent_list()},methods:{get_new_parent_list:function(){var e=[this.current_node_name];this.tree.find(this.current_node_name)[0].parent&&e.push(this.current_node_name,this.tree.find(this.current_node_name)[0].parent.text),function t(s){if(s.children.length>0)for(var n=0;n<s.children.length;n++)e.push(s.children[n].data.text),t(s.children[n])}(this.tree.find(this.current_node_name)[0]),this.prnt_list=[];for(var t=this.tree.findAll({state:{selectable:!0}}),s=0;s<t.length;s++)-1!=t[s].data.grants.indexOf("insert")&&-1==e.indexOf(t[s].text)&&this.prnt_list.push(t[s].text)},replace:function(){var e=this;if(this.message={},this.new_prnt){var t=this.tree.find(this.current_node_name)[0];this.axios.post("/am/node/replace",{id:this.user_id,prnt:this.new_prnt,node:this.current_node_name},{headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(s){e.message={},s.data.success?(e.message.success=s.data.success,t.remove(),e.tree.find(e.new_prnt)[0].append(t)):e.message.err=s.data.err})}else this.message.err="Вы не ввели имя нового предка"}}},A={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("form",[s("p",[e._v("Выберите из списка новый родительский узел")]),e._v(" "),s("v-select",{staticClass:"mb-3 mt-3",attrs:{options:e.prnt_list},model:{value:e.new_prnt,callback:function(t){e.new_prnt=t},expression:"new_prnt"}}),e._v(" "),s("button",{staticClass:"btn btn-default btn-block",attrs:{type:"button"},on:{click:e.replace}},[e._v("Изменить родительский узел")]),e._v(" "),e.message.err?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"danger"}},[e._v(e._s(e.message.err))]):e._e(),e._v(" "),e.message.success?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"success"}},[e._v(e._s(e.message.success))]):e._e()],1)])])},staticRenderFns:[]},z=s("VU/8")(y,A,!1,null,null,null).exports,R={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[this._v("\n        "+this._s(this.node_info)+"\n    ")])])},staticRenderFns:[]},B=s("VU/8")({name:"n_info",props:["node_info"]},R,!1,null,null,null).exports,U={name:"n_delete",props:["tree","user_id","user_token","current_node_name"],data:function(){return{message:{}}},watch:{node:function(){this.message={}}},methods:{delete_node:function(){var e=this;this.message={},this.axios.post("/am/node/remove",{id:this.user_id,node:this.current_node_name},{headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(t){e.message={},t.data.success?(e.message.success=t.data.success,e.tree.find(e.current_node_name)[0].remove()):e.message.err=t.data.err})}}},O={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("p",[e._v("Данная операция удалит узел "+e._s(e.current_node_name))]),e._v(" "),s("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:e.delete_node}},[e._v("Удаление")]),e._v(" "),e.message.err?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"danger"}},[e._v(e._s(e.message.err))]):e._e(),e._v(" "),e.message.success?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"success"}},[e._v(e._s(e.message.success))]):e._e()],1)])},staticRenderFns:[]},E=s("VU/8")(U,O,!1,null,null,null).exports,F={name:"n_access",props:["tree","current_node_name","user_id","user_token","node_info"],data:function(){return{message:{},selected:{users:{},roles:{}},set_grants:{roles:[],users:[]},options:[{value:"",text:"Прав нет"},{value:"access",text:"access"},{value:"delete",text:"delete"},{value:"replace",text:"replace"},{value:"insert",text:"insert"},{value:"update",text:"update"},{value:"read",text:"read"},{value:"pass",text:"pass"}]}},watch:{node:function(){this.message={}}},mounted:function(){},created:function(){for(var e=["roles","users"],t=0;t<e.length;t++){var s=this.node_info[e[t]];for(var n in s){var r="";7==s[n].length&&(r="access"),6==s[n].length&&(r="delete"),5==s[n].length&&(r="replace"),4==s[n].length&&(r="insert"),3==s[n].length&&(r="update"),2==s[n].length&&(r="read"),1==s[n].length&&(r="pass"),this.$set(this.selected[e[t]],n.toString(),r)}}console.log(this.selected)},methods:{send_new_grants:function(e){for(var t=this,s={},n=this.set_grants[e],r=0;r<n.length;r++)s[n[r]]=this.selected[e][n[r]];var a={id:this.user_id,node:this.current_node_name},o="/am/node/role";if("roles"==e)a.role=s;else{a.user=s;o="/am/node/user"}console.log(a),this.axios.post(o,a,{headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(e){console.log(e.data),t.message={},e.data.success?t.message.success=e.data.success:t.message.err=e.data.err})},set_new_grants:function(e,t){-1==this.set_grants[t].indexOf(e)&&this.set_grants[t].push(e)}}},V={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("p",[e._v("Назначение прав на узел")]),e._v(" "),e.message.err?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"danger"}},[e._v(e._s(e.message.err))]):e._e(),e._v(" "),e.message.success?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"success"}},[e._v(e._s(e.message.success))]):e._e()],1),e._v(" "),s("div",{staticClass:"col-6"},[s("b-button",{staticClass:"btn-block mt-3 btn-sm",on:{click:function(t){e.send_new_grants("roles")}}},[e._v("Установить права ролей")]),e._v(" "),e._l(e.node_info.roles,function(t,n){return s("b-form-group",{staticClass:"mt-3",attrs:{horizontal:"",label:n,"label-for":"inputHorizontal"}},[s("b-form-select",{attrs:{options:e.options,size:"sm"},on:{change:function(t){e.set_new_grants(n,"roles")}},model:{value:e.selected.roles[n],callback:function(t){e.$set(e.selected.roles,n,t)},expression:"selected.roles[roles]"}})],1)})],2),e._v(" "),s("div",{staticClass:"col-6"},[s("b-button",{staticClass:"btn-block mt-3 btn-sm",on:{click:function(t){e.send_new_grants("users")}}},[e._v("Установить права пользователей")]),e._v(" "),e._l(e.node_info.users,function(t,n){return s("b-form-group",{staticClass:"mt-3",attrs:{horizontal:"",label:n,"label-for":"inputHorizontal"}},[s("b-form-select",{attrs:{options:e.options,size:"sm"},on:{change:function(t){e.set_new_grants(n,"users")}},model:{value:e.selected.users[n],callback:function(t){e.$set(e.selected.users,n,t)},expression:"selected.users[users]"}})],1)})],2)])},staticRenderFns:[]},N=s("VU/8")(F,V,!1,null,null,null).exports,S={name:"n_text",props:["tree","user_id","user_token","current_node_name","node_info","operations"],data:function(){return{message:{},text_list:null,file:null}},created:function(){this.get_node_texts()},methods:{delete_text:function(e){var t=this,s={id:this.user_id,file:e,token:this.user_token};this.axios.post("/am/file/remove",s,{headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(e){t.message={},e.data.error?t.message.err=e.data.message:(t.message.success=e.data.success,t.get_node_texts())})},get_node_texts:function(){var e=this;this.axios.get("/am/file/list",{params:{id:this.user_id,node:this.current_node_name,type:"text"},headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(t){e.text_list=t.data})},testfile:function(){var e=this;this.file||(this.message={},this.message.err="Файл не выбран");var t=new FormData;t.append("file",this.file),t.append("id",this.user_id),t.append("type","text"),t.append("token",this.user_token),t.append("node",this.current_node_name);this.axios.post("/am/file/add",t,{headers:h()({"Content-Type":"multipart/form-data"},"Authorization","Bearer "+this.user_token)}).then(function(t){e.message={},t.data.error?e.message.err=t.data.message:(e.message.success="Файл загружен",e.get_node_texts())})}}},D={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("p",[e._v("Текстовые файлы")]),e._v(" "),e.operations.update?s("div",[s("b-form-file",{attrs:{state:Boolean(e.file),placeholder:"Choose a file..."},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),e._v(" "),e.message.err?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"danger"}},[e._v(e._s(e.message.err))]):e._e(),e._v(" "),e.message.success?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"success"}},[e._v(e._s(e.message.success))]):e._e(),e._v(" "),s("b-button",{staticClass:"btn-block mt-3 btn-sm",on:{click:e.testfile}},[e._v("Загрузить текстовый файл")])],1):e._e(),e._v(" "),e._l(e.text_list,function(t){return s("div",{staticClass:"mt-3"},[s("div",{staticClass:"d-flex justify-content-between"},[e._v("\n                "+e._s(t.file_name)+"\n                "),e.user_id==t.userid&&e.operations.update?s("a",{attrs:{href:"#"},on:{click:function(s){e.delete_text(t.uid_file)}}},[e._v("Удалить")]):s("a",{attrs:{href:"#"}},[e._v("Операция не доступна")])]),e._v(" "),s("b-form-textarea",{attrs:{rows:3,"max-rows":6,disabled:""},model:{value:t.tst,callback:function(s){e.$set(t,"tst",s)},expression:"text.tst"}})],1)})],2)])},staticRenderFns:[]},j=s("VU/8")(S,D,!1,null,null,null).exports,H={name:"n_file",props:["tree","user_id","user_token","current_node_name","node_info","operations"],data:function(){return{message:{},file_list:{},file:null}},created:function(){this.get_node_files()},methods:{delete_file:function(e){var t=this,s={id:this.user_id,file:e,token:this.user_token};this.axios.post("/am/file/remove",s,{headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(e){t.message={},e.data.error?t.message.err=e.data.message:(t.message.success=e.data.success,t.get_node_files())})},get_node_files:function(){var e=this;this.axios.get("/am/file/list",{params:{id:this.user_id,node:this.current_node_name,type:"file"},headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(t){e.file_list=t.data})},testfile:function(){var e=this;if(!this.file)return this.message={},void(this.message.err="Файл не выбран");var t=new FormData;t.append("file",this.file),t.append("id",this.user_id),t.append("type","file"),t.append("token",this.user_token),t.append("node",this.current_node_name);this.axios.post("/am/file/add",t,{headers:h()({"Content-Type":"multipart/form-data"},"Authorization","Bearer "+this.user_token)}).then(function(t){e.message={},t.data.error?e.message.err=t.data.message:(e.message.success="Файл загружен",e.get_node_files())})}}},M={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("p",[e._v("Файлы")]),e._v(" "),e.operations.update?s("div",[s("b-form-file",{attrs:{state:Boolean(e.file),placeholder:"Choose a file..."},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),e._v(" "),e.message.err?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"danger"}},[e._v(e._s(e.message.err))]):e._e(),e._v(" "),e.message.success?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"success"}},[e._v(e._s(e.message.success))]):e._e(),e._v(" "),s("b-button",{staticClass:"btn-block mt-3 btn-sm",on:{click:e.testfile}},[e._v("Загрузить файл")])],1):e._e(),e._v(" "),e.file_list.length>0?s("table",{staticClass:"table table-hover"},[e._m(0),e._v(" "),s("tbody",e._l(e.file_list,function(t){return s("tr",[s("td",[e._v(e._s(t.file_name))]),e._v(" "),s("td",[s("a",{attrs:{href:t.file_link+"?force_download",target:"_blank"}},[e._v("Скачать")])]),e._v(" "),s("td",[s("a",{attrs:{href:t.file_link,target:"_blank"}},[e._v("Открыть")])]),e._v(" "),s("td",[e.user_id==t.userid&&e.operations.update?s("a",{attrs:{href:"#"},on:{click:function(s){e.delete_file(t.uid_file)}}},[e._v("Удалить")]):s("a",{attrs:{href:"#"}},[e._v("Операция не доступна")])])])}))]):s("p",{staticClass:"mt-3"},[e._v("Нет загруженных файлов")])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",{attrs:{scope:"col"}},[this._v("Имя файла")]),this._v(" "),t("th",{attrs:{scope:"col"}},[this._v("Ссылка на скачивание")]),this._v(" "),t("th",{attrs:{scope:"col"}},[this._v("Открыть в новом окне")]),this._v(" "),t("th",{attrs:{scope:"col"}},[this._v("Удалить(для владельца)")])])])}]},q=s("VU/8")(H,M,!1,null,null,null).exports,I={name:"role",props:["user_id","user_token","user_info"],data:function(){return{role_info:{},message_add_role:{},message_del_role:{},new_role:null,current_role_name:null,checked_role:{},user_list:[],node_list:[],manager:"",treeData:this.getData(),treeOpt:{parentSelect:!0,checkbox:!0}}},watch:{current_role_name:function(){this.$router.push("/access/role/info")}},created:function(){var e=this;this.axios.get("/am/base/user",{params:{id:this.user_id},headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(t){e.user_list=t.data}),this.axios.get("/am/base/node",{params:{id:this.user_id},headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(t){e.node_list=t.data})},methods:{delete_role:function(){var e=this,t={id:this.user_id,role:this.checked_role.text};this.axios.post("/am/role/remove",t,{headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(t){e.message_del_role={},t.data.success?(e.message_del_role.success=t.data.success,e.checked_role.remove()):e.message_del_role.err=t.data.err})},create:function(){var e=this;if(!this.new_role)return this.message_add_role={},void(this.message_add_role.err="Вы не ввели имя новой роли");var t={id:this.user_id,role:this.new_role};this.manager.length>0&&(t.manager=this.manager),this.axios.post("/am/role/add",t,{headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(t){e.message_add_role={},t.data.success?(e.message_add_role.success=t.data.success,e.$refs.treeAcc.append({text:e.new_role,id:t.data.id})):e.message_add_role.err=t.data.err})},action_add_role:function(e){this.new_role=null,this.manager="",this.message_add_role={},this.$refs[e].show()},action_remove_role:function(){this.message_del_role={},this.$refs.role_remove_modal.show()},action:function(e){console.log(e),this.$router.push("/access/role/"+e)},onNodeUnchecked:function(){this.checked_role={}},onNodeChecked:function(e){for(var t=this.$refs.treeAcc.checked(),s=0;s<t.length;s++)e.text!=t[s].text&&t[s].uncheck();this.checked_role=e},onNodeSelected:function(e){var t=this;this.current_role_name=e.text,this.axios.get("/am/role/get",{params:{id:this.user_id,role:e.text},headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(e){console.log(e.data),t.role_info=e.data})},getData:function(){return this.axios.get("/am/role/list",{params:{id:this.user_id},headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(e){return e.data})}}},T={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("b-modal",{ref:"role_add_modal",attrs:{centered:"","no-fade":"","hide-footer":"",title:"Создание новой роли"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("form",[s("div",{staticClass:"form-group"},[s("label",[e._v("Имя новой роли")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.new_role,expression:"new_role"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.new_role},on:{input:function(t){t.target.composing||(e.new_role=t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"form-group"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.manager,expression:"manager"}],staticClass:"form-control",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.manager=t.target.multiple?s:s[0]}}},[s("option",{attrs:{disabled:"",value:"",selected:""}},[e._v("Укажите менеджера, если необходимо")]),e._v(" "),e._l(e.user_list,function(t){return s("option",[e._v(e._s(t.user))])})],2)]),e._v(" "),e.message_add_role.err?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"danger"}},[e._v(e._s(e.message_add_role.err))]):e._e(),e._v(" "),e.message_add_role.success?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"success"}},[e._v(e._s(e.message_add_role.success))]):e._e(),e._v(" "),s("button",{staticClass:"btn btn-default btn-block",attrs:{type:"button"},on:{click:e.create}},[e._v("Создать роль")])],1)])]),e._v(" "),s("b-modal",{ref:"role_remove_modal",attrs:{centered:"","no-fade":"","hide-footer":"",title:"Удаление роли"}},[s("p",[e._v("Данная операция удалит роль "+e._s(e.checked_role.text))]),e._v(" "),e.message_del_role.err?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"danger"}},[e._v(e._s(e.message_del_role.err))]):e._e(),e._v(" "),e.message_del_role.success?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"success"}},[e._v(e._s(e.message_del_role.success))]):e._e(),e._v(" "),s("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:e.delete_role}},[e._v("Да, я хочу удалить роль")])],1),e._v(" "),s("div",{staticClass:"col-4 text-left"},[-1!=e.user_info.roles.indexOf("admins")?s("b-dropdown",{staticClass:"md-2 flex-column d-flex",attrs:{id:"ddown1",text:"Операции администратора"}},[s("b-dropdown-item",{on:{click:function(t){e.action_add_role("role_add_modal")}}},[e._v("Добавить роль")]),e._v(" "),s("b-dropdown-item",{attrs:{disabled:!Object.keys(e.checked_role).length},on:{click:e.action_remove_role}},[e._v("Удалить отмеченную роль")])],1):e._e(),e._v(" "),s("tree",{ref:"treeAcc",attrs:{options:e.treeOpt,data:e.treeData},on:{"node:selected":e.onNodeSelected,"node:checked":e.onNodeChecked,"node:unchecked":e.onNodeUnchecked}})],1),e._v(" "),s("div",{staticClass:"col-8"},[e.current_role_name?s("div",{staticClass:"d-flex justify-content-between"},[-1!=e.user_info.roles.indexOf("admins")?s("b-dropdown",{staticClass:"md-2",attrs:{id:"ddown1",text:"Операции"}},[s("b-dropdown-item",{on:{click:function(t){e.action("adduser")}}},[e._v("Пользователи")]),e._v(" "),s("b-dropdown-item",{on:{click:function(t){e.action("node")}}},[e._v("Назначить права на узлы для роли")])],1):s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(t){e.action("adduser")}}},[e._v("Пользователи")]),e._v(" "),s("div",{staticClass:"d-flex align-items-center mt-2"},[s("h4",[e._v(e._s(e.current_role_name))])]),e._v(" "),s("b-button",{staticClass:"md-2",on:{click:function(t){e.action("info")}}},[e._v("Информация")])],1):e._e(),e._v(" "),s("router-view",{attrs:{role_info:e.role_info,node_list:e.node_list,user_list:e.user_list,current_role_name:e.current_role_name,user_id:e.user_id,user_token:e.user_token}})],1)],1)},staticRenderFns:[]},W=s("VU/8")(I,T,!1,null,null,null).exports,G={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[this._v("\n        "+this._s(this.role_info)+"\n    ")])])},staticRenderFns:[]},P=s("VU/8")({name:"r_info",props:["role_info"]},G,!1,null,null,null).exports,Y={name:"r_adduser",props:["role_info","user_list","current_role_name","user_id","user_token"],data:function(){return{message:{},role_list:[],all_user_list:[],treeOptRole:{parentSelect:!0,checkbox:!0,multiple:!0},treeOptUsers:{parentSelect:!0,multiple:!0}}},created:function(){console.log(this.role_info.users),console.log(this.user_list);for(var e=[],t=0;t<this.role_info.users.length;t++)-1!=this.role_info.manager.indexOf(this.role_info.users[t])?this.role_list.push({text:this.role_info.users[t],state:{checked:!0}}):this.role_list.push({text:this.role_info.users[t]}),e.push(this.role_info.users[t]);for(t=0;t<this.user_list.length;t++)console.log(this.role_list.indexOf(this.user_list[t])),-1==e.indexOf(this.user_list[t].user)&&this.all_user_list.push({text:this.user_list[t].user})},methods:{manager:function(){var e=this;this.message={};var t=this.$refs.treeRoleRole.checked();console.log(t);for(var s=[],n=0;n<t.length;n++)s.push(t[n].text);var r={id:this.user_id,role:this.current_role_name,manager:s};this.axios.post("/am/role/manager",r,{headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(t){e.message={},t.data.success?e.message.success=t.data.success:e.message.err=t.data.err||t.data.message})},rem_user:function(){var e=this;this.message={};for(var t=this.$refs.treeRoleRole.selected(),s=[],n=0;n<t.length;n++)s.push(t[n].text);var r={id:this.user_id,role:this.current_role_name,user:s};this.axios.post("/am/role/userrem",r,{headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(s){if(e.message={},s.data.success){e.message.success=s.data.success,t.remove();for(var n=0;n<t.length;n++)e.$refs.treeRoleUsers.append({text:t[n].text})}else e.message.err=s.data.err||s.data.message})},add_user:function(){var e=this;this.message={};for(var t=this.$refs.treeRoleUsers.selected(),s=[],n=0;n<t.length;n++)s.push(t[n].text);var r={id:this.user_id,role:this.current_role_name,user:s};this.axios.post("/am/role/useradd",r,{headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(s){if(e.message={},s.data.success){e.message.success=s.data.success,t.remove();for(var n=0;n<t.length;n++)e.$refs.treeRoleRole.append({text:t[n].text})}else e.message.err=s.data.err||s.data.message})}}},L={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("p",[e._v("Добавление/удаление пользователей в роль "+e._s(e.current_role_name)+". Зажатая клавиша ctrl позволяет выбирать нескольких пользователей. \n            Поставьте/уберите галочку возле имени пользователя, чтобы назначить менеджеров/менеджера роли.")])]),e._v(" "),s("div",{staticClass:"col-12"},[e.message.err?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"danger"}},[e._v(e._s(e.message.err))]):e._e(),e._v(" "),e.message.success?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"success"}},[e._v(e._s(e.message.success))]):e._e()],1),e._v(" "),s("div",{staticClass:"col-6"},[s("div",{staticClass:"btn-group btn-block"},[s("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:e.manager}},[e._v("Manager")]),e._v(" "),s("button",{staticClass:"btn btn-primary w-100",attrs:{type:"button"},on:{click:e.rem_user}},[e._v(">>")])]),e._v(" "),s("tree",{ref:"treeRoleRole",attrs:{options:e.treeOptRole,data:e.role_list}})],1),e._v(" "),s("div",{staticClass:"col-6"},[s("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:e.add_user}},[e._v("<<")]),e._v(" "),s("tree",{ref:"treeRoleUsers",attrs:{options:e.treeOptUsers,data:e.all_user_list}})],1)])},staticRenderFns:[]},J=s("VU/8")(Y,L,!1,null,null,null).exports,Q={name:"r_node",props:["current_role_name","node_list","role_info","user_id"],data:function(){return{grant_list:{},options:[{value:"",text:"Прав нет"},{value:"access",text:"access"},{value:"delete",text:"delete"},{value:"replace",text:"replace"},{value:"insert",text:"insert"},{value:"update",text:"update"},{value:"read",text:"read"},{value:"pass",text:"pass"}],selected:{},set_grants:[],message:{}}},methods:{send_new_grants:function(){for(var e=this,t={},s=0;s<this.set_grants.length;s++)t[this.set_grants[s]]=this.selected[this.set_grants[s]];console.log(t);var n={id:this.user_id,role:this.current_role_name,node:t};this.axios.post("/am/role/node",n,{headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(t){console.log(t.data),e.message={},t.data.success?e.message.success=t.data.success:e.message.err=t.data.err||t.data.message})},set_new_grants:function(e){console.log(e),this.set_grants.push(e)}},created:function(){console.log(this.node_list),console.log(this.node_list[0]),console.log(this.role_info.node);for(var e=0;e<this.node_list.length;e++){var t="";this.role_info.node[this.node_list[e].node]?(7==this.role_info.node[this.node_list[e].node].length&&(t="access"),6==this.role_info.node[this.node_list[e].node].length&&(t="delete"),5==this.role_info.node[this.node_list[e].node].length&&(t="replace"),4==this.role_info.node[this.node_list[e].node].length&&(t="insert"),3==this.role_info.node[this.node_list[e].node].length&&(t="update"),2==this.role_info.node[this.node_list[e].node].length&&(t="read"),1==this.role_info.node[this.node_list[e].node].length&&(t="pass"),this.grant_list[this.node_list[e].node]=t):this.grant_list[this.node_list[e].node]="",this.selected[this.node_list[e].node]=t}}},Z={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("p",[e._v("Назначение прав для роли "+e._s(e.current_role_name)+".")]),e._v(" "),e.message.err?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"danger"}},[e._v(e._s(e.message.err))]):e._e(),e._v(" "),e.message.success?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"success"}},[e._v(e._s(e.message.success))]):e._e()],1),e._v(" "),s("div",{staticClass:"col-12"},[s("b-button",{staticClass:"btn-block mt-3 btn-sm",on:{click:e.send_new_grants}},[e._v("Установить права.")]),e._v(" "),e._l(e.grant_list,function(t,n){return s("b-form-group",{staticClass:"mt-3",attrs:{horizontal:"",label:n,"label-for":"inputHorizontal"}},[s("b-form-select",{attrs:{options:e.options,size:"sm"},on:{change:function(t){e.set_new_grants(n)}},model:{value:e.selected[n],callback:function(t){e.$set(e.selected,n,t)},expression:"selected[node]"}})],1)})],2)])},staticRenderFns:[]},K=s("VU/8")(Q,Z,!1,null,null,null).exports,X={name:"user",props:["user_id","user_token"],data:function(){return{treeData:this.getData(),treeOpt:{parentSelect:!0,multiple:!1},current_user_name:null,current_user_info:null,roles_list:[],node_list:[]}},watch:{current_user_name:function(){this.$router.push("/access/user/info")}},created:function(){var e=this;this.axios.get("/am/role/list",{params:{id:this.user_id},headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(t){e.roles_list=t.data}),this.axios.get("/am/base/node",{params:{id:this.user_id},headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(t){e.node_list=t.data})},methods:{action:function(e){console.log(e),"role"!=e&&"info"!=e&&"node"!=e||this.$router.push("/access/user/"+e)},getData:function(){return this.axios.get("/am/base/user",{params:{id:this.user_id},headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(e){console.log(e.data);for(var t=[],s=0;s<e.data.length;s++)t.push({text:e.data[s].user,id:e.data[s].userid});return t})},onNodeSelected:function(e){var t=this;console.log(e),this.current_user_name=e.text,this.axios.get("/am/user/get",{params:{id:this.user_id,user:e.id},headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(e){console.log(e.data),t.current_user_info=e.data})}}},ee={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-4 text-left"},[s("tree",{ref:"treeAcc",attrs:{options:e.treeOpt,data:e.treeData},on:{"node:selected":e.onNodeSelected}})],1),e._v(" "),s("div",{staticClass:"col-8"},[e.current_user_name?s("div",{staticClass:"d-flex justify-content-between"},[s("b-dropdown",{staticClass:"md-2",attrs:{id:"ddown1",text:"Операции"}},[s("b-dropdown-item",{on:{click:function(t){e.action("role")}}},[e._v("Роли пользователя")]),e._v(" "),s("b-dropdown-item",{on:{click:function(t){e.action("node")}}},[e._v("Назначить права на узлы для пользователя")])],1),e._v(" "),s("div",{staticClass:"d-flex align-items-center mt-2"},[s("h4",[e._v(e._s(e.current_user_name))])]),e._v(" "),s("b-button",{staticClass:"md-2",on:{click:function(t){e.action("info")}}},[e._v("Информация")])],1):e._e(),e._v(" "),s("router-view",{attrs:{user_id:e.user_id,user_token:e.user_token,current_user_info:e.current_user_info,roles_list:e.roles_list,current_user_name:e.current_user_name,node_list:e.node_list}})],1)])},staticRenderFns:[]},te=s("VU/8")(X,ee,!1,null,null,null).exports,se={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[this._v("\n        "+this._s(this.current_user_info)+"\n    ")])])},staticRenderFns:[]},ne=s("VU/8")({name:"u_info",props:["current_user_info"]},se,!1,null,null,null).exports,re={name:"u_role",props:["current_user_name","user_id","user_token","current_user_info","roles_list"],data:function(){return{treeOpt:{parentSelect:!0,multiple:!0},cur_roles:[],all_roles:[],message:{}}},created:function(){if(console.log(this.current_user_info.roles),this.current_user_info.roles)for(var e=0;e<this.roles_list.length;e++)-1==this.current_user_info.roles.indexOf(this.roles_list[e].text)?this.all_roles.push({text:this.roles_list[e].text}):this.cur_roles.push({text:this.roles_list[e].text});else for(e=0;e<this.roles_list.length;e++)this.all_roles.push({text:this.roles_list[e].text})},methods:{add_role:function(){var e=this.$refs.treeAllRoles.selected();e.remove();for(var t=0;t<e.length;t++)this.$refs.treeCurRoles.append({text:e[t].text})},rem_role:function(){var e=this.$refs.treeCurRoles.selected();e.remove();for(var t=0;t<e.length;t++)this.$refs.treeAllRoles.append({text:e[t].text})},update:function(){for(var e=this,t=this.$refs.treeCurRoles.findAll({state:{selectable:!0}})||[],s=[],n=0;n<t.length;n++)s.push(t[n].text);var r={id:this.user_id,name:this.current_user_name,role:s};this.axios.post("/am/user/role",r,{headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(t){e.message={},t.data.success?e.message.success=t.data.success:e.message.err=t.data.err||t.data.message})}}},ae={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[e._m(0),e._v(" "),s("div",{staticClass:"col-12"},[s("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:e.update}},[e._v("Применить")])]),e._v(" "),s("div",{staticClass:"col-12"},[e.message.err?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"danger"}},[e._v(e._s(e.message.err))]):e._e(),e._v(" "),e.message.success?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"success"}},[e._v(e._s(e.message.success))]):e._e()],1),e._v(" "),s("div",{staticClass:"col-6 mt-3"},[s("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:e.rem_role}},[e._v(">>")]),e._v(" "),s("tree",{ref:"treeCurRoles",attrs:{options:e.treeOpt,data:e.cur_roles}})],1),e._v(" "),s("div",{staticClass:"col-6 mt-3"},[s("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:e.add_role}},[e._v("<<")]),e._v(" "),s("tree",{ref:"treeAllRoles",attrs:{options:e.treeOpt,data:e.all_roles}})],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"col-12"},[t("p",[this._v("Добавление/удаление пользователя из ролей.")])])}]},oe=s("VU/8")(re,ae,!1,null,null,null).exports,ie={name:"u_node",props:["current_user_name","user_id","user_token","current_user_info","node_list"],data:function(){return{grant_list:{},options:[{value:"",text:"Прав нет"},{value:"access",text:"access"},{value:"delete",text:"delete"},{value:"replace",text:"replace"},{value:"insert",text:"insert"},{value:"update",text:"update"},{value:"read",text:"read"},{value:"pass",text:"pass"}],selected:{},set_grants:[],message:{}}},methods:{send_new_grants:function(){for(var e=this,t={},s=0;s<this.set_grants.length;s++)t[this.set_grants[s]]=this.selected[this.set_grants[s]];var n={id:this.user_id,name:this.current_user_name,node:t};this.axios.post("/am/user/node",n,{headers:h()({},"Authorization","Bearer "+this.user_token)}).then(function(t){e.message={},t.data.success?e.message.success=t.data.success:e.message.err=t.data.err||t.data.message})},set_new_grants:function(e){this.set_grants.push(e)}},created:function(){for(var e=0;e<this.node_list.length;e++){var t="";this.current_user_info.grants[this.node_list[e].node]?(7==this.current_user_info.grants[this.node_list[e].node].length&&(t="access"),6==this.current_user_info.grants[this.node_list[e].node].length&&(t="delete"),5==this.current_user_info.grants[this.node_list[e].node].length&&(t="replace"),4==this.current_user_info.grants[this.node_list[e].node].length&&(t="insert"),3==this.current_user_info.grants[this.node_list[e].node].length&&(t="update"),2==this.current_user_info.grants[this.node_list[e].node].length&&(t="read"),1==this.current_user_info.grants[this.node_list[e].node].length&&(t="pass"),this.grant_list[this.node_list[e].node]=t):this.grant_list[this.node_list[e].node]="",this.selected[this.node_list[e].node]=t}}},le={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("p",[e._v("Назначение прав для пользователя.")]),e._v(" "),e.message.err?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"danger"}},[e._v(e._s(e.message.err))]):e._e(),e._v(" "),e.message.success?s("b-alert",{staticClass:"mt-3",attrs:{show:"",variant:"success"}},[e._v(e._s(e.message.success))]):e._e()],1),e._v(" "),s("div",{staticClass:"col-12"},[s("b-button",{staticClass:"btn-block mt-3 btn-sm",on:{click:e.send_new_grants}},[e._v("Установить права.")]),e._v(" "),e._l(e.grant_list,function(t,n){return s("b-form-group",{staticClass:"mt-3",attrs:{horizontal:"",label:n,"label-for":"inputHorizontal"}},[s("b-form-select",{attrs:{options:e.options,size:"sm"},on:{change:function(t){e.set_new_grants(n)}},model:{value:e.selected[n],callback:function(t){e.$set(e.selected,n,t)},expression:"selected[node]"}})],1)})],2)])},staticRenderFns:[]},ce=s("VU/8")(ie,le,!1,null,null,null).exports;n.a.use(l.a);var ue=new l.a({mode:"history",routes:[{path:"/",name:"login",component:d},{path:"/access",name:"access",component:v,children:[{path:"/access/info",name:"info",component:g},{path:"/access/role",name:"role",component:W,children:[{path:"/access/role/info",name:"r_info",component:P},{path:"/access/role/node",name:"r_node",component:K},{path:"/access/role/adduser",name:"r_adduser",component:J}]},{path:"/access/user",name:"user",component:te,children:[{path:"/access/user/info",name:"u_info",component:ne},{path:"/access/user/role",name:"u_role",component:oe},{path:"/access/user/node",name:"u_node",component:ce}]},{path:"/access/node",name:"node",component:x,children:[{path:"/access/node/info",name:"n_info",component:B},{path:"/access/node/insert",name:"n_insert",component:$},{path:"/access/node/replace",name:"n_replace",component:z},{path:"/access/node/access",name:"n_access",component:N},{path:"/access/node/delete",name:"n_delete",component:E},{path:"/access/node/text",name:"n_text",component:j},{path:"/access/node/file",name:"n_file",component:q}]}]}]}),de=s("e6fC"),_e=(s("9M+g"),s("mtWM")),he=s.n(_e),me=s("Rf8U"),fe=s.n(me),ve=s("ZIfW"),pe=s("T1ft"),ge=s.n(pe);n.a.use(de.a),he.a.defaults.baseURL="",n.a.use(ve.a),n.a.use(fe.a,he.a),n.a.use(r.a),n.a.component("v-select",ge.a),n.a.config.productionTip=!1;var be=new r.a.Store({state:{current:{token:"",id:"",user:"",email:""}},mutations:{login:function(e,t){e.current.token=t.token,e.current.id=t.id,e.current.user=t.user,e.current.email=t.email}}});new n.a({el:"#app",router:ue,store:be,components:{App:i},template:"<App/>"})},zj2Q:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.1be7f50e096f236853c0.js.map